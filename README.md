### 基于greatfree的集群应用
* 集群搭建
  * 配置文件中配置ip port
  * 每个机器之间可以互相通信
  * 每个机器部署节点

* 任务调度

  * 实时任务
  * 定时任务

* 资源调度

  * 集群资源利用率最大
  * 资源等待时间最小
  * 支持任务抢占（争夺资源）
  
> 执行策略
  
* 优先级：
    1. 每个job都有priority值，值越小优先级越高
    2. 相同优先级按提交循序
    3. 优先分配优先级高的
    4. 高优先级job加入 将最低优先级job停止抢占

![Q5QlbF.png](https://s2.ax1x.com/2019/12/16/Q5QlbF.png)
主要由四种节点组成

* `Client`：负责提交任务，并获取提交结果
* `DolphinMaster`:  资源调度，负责接收任务，节点资源状况收集分配，将任务执行环境经Agent通知到AppMaster
* `AppMaster`：任务调度,  向DolphinMaster申请资源/释放资源，拿到分配的资源后调度相应的AppWork执行数据分片，并负责AppWork之间的数据传递
* `AppWork`：负责接收数据分片，执行用户给定计算逻辑，输出计算结果，向AppMaster报告运行状态
* `Agent`：每个物理节点都会有一个Agent守护进程负责收集机器资源信息，并向DolphinMaster报告

* 集群管理页面

  * 监控页面

    1. 资源信息

    2. 节点信息

    3. 作业信息

  * 节点管理页面
  
  * 任务管理页面
  
    任务添加
  
    当前执行任务
  
    等待中的任务

